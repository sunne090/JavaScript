<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스크롤 인디케ㅣ터 어포스트 - 2021-06-05</title>
    <script type="text/javascript" src="./scrollindicator.js"></script>
    <style>
        html, body{
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }
        #header {
            width: 100%;
            height: 100px;
            color: #333;
            background-color: #ddd;
            position: fixed;
            top: 0;
            font-size: 3rem;
            text-align: center;
        }
        .content{
            width: 100%;
            height: 1500px; 
            background-color: #fafafa;
        }
        .progressbar {
            position: fixed;
            height: 5px;
            top: 100px;
            left: 0;
            width: 100%;
            z-index: 500;
            background-color: rgb(151, 151, 151);
        }
        .progressbar > .progress {
            width: 0%;
            height: 100%;
            transition: width 0.3s ease;
            background-color: rgb(62, 190, 111);
        }
    </style>
</head>
<body>
    <div class="wrap">
        <div id="header">Scroll Indicator</div>
        <div id="progressbar" class="progressbar"><div class="progress"></div></div>
        <div class="content">
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse eum non delectus quos porro rerum quis minus
                dolore, facilis corrupti quae unde odio, perspiciatis dolores, nesciunt maxime totam recusandae dolorem.
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto numquam fugit non sequi ipsum consequatur
                repellat animi magni assumenda. Labore, placeat vitae excepturi aperiam veritatis ea minus itaque fugiat
                natus?
                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Esse sapiente ipsam perferendis ut quis illo,
                voluptatum dolores natus placeat est tenetur nisi enim amet similique deserunt voluptatem qui temporibus
                libero?
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus quia tempore numquam ipsa, illo rerum
                sunt inventore repellendus, culpa non consectetur eligendi in, magni minima assumenda repudiandae est
                adipisci obcaecati?
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti voluptatibus distinctio enim nulla
                consectetur quasi, facilis cupiditate! Voluptate dolore consequatur quae perferendis earum. Minima
                dignissimos adipisci nisi accusantium perspiciatis obcaecati.
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum eaque beatae dignissimos amet quibusdam
                aperiam hic earum quidem neque ex debitis impedit dolorem eos voluptas sed quod, quae aliquam tempora!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt aliquam aspernatur minus veritatis accusantium
                est doloribus ad omnis dolorum numquam, cumque expedita at. Deleniti, provident temporibus. Praesentium sit
                ad perferendis.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aliquid perferendis ab consectetur esse architecto
                nemo doloremque sapiente distinctio dolore unde. Eveniet atque alias labore ipsam libero dolorem quidem
                voluptatibus expedita!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit, quod deserunt. Commodi ea possimus
                ut, quaerat dicta dignissimos qui doloremque ullam nulla dolor reprehenderit minus ex modi suscipit illum
                aperiam?
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est vero eius iste recusandae, quisquam eum quasi.
                Tenetur porro necessitatibus voluptatem dolorum doloribus nihil adipisci, dolores voluptates labore quidem
                alias nobis.
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse eum non delectus quos porro rerum quis minus
                dolore, facilis corrupti quae unde odio, perspiciatis dolores, nesciunt maxime totam recusandae dolorem.
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto numquam fugit non sequi ipsum consequatur
                repellat animi magni assumenda. Labore, placeat vitae excepturi aperiam veritatis ea minus itaque fugiat
                natus?
                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Esse sapiente ipsam perferendis ut quis illo,
                voluptatum dolores natus placeat est tenetur nisi enim amet similique deserunt voluptatem qui temporibus
                libero?
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus quia tempore numquam ipsa, illo rerum
                sunt inventore repellendus, culpa non consectetur eligendi in, magni minima assumenda repudiandae est
                adipisci obcaecati?
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti voluptatibus distinctio enim nulla
                consectetur quasi, facilis cupiditate! Voluptate dolore consequatur quae perferendis earum. Minima
                dignissimos adipisci nisi accusantium perspiciatis obcaecati.
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum eaque beatae dignissimos amet quibusdam
                aperiam hic earum quidem neque ex debitis impedit dolorem eos voluptas sed quod, quae aliquam tempora!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt aliquam aspernatur minus veritatis accusantium
                est doloribus ad omnis dolorum numquam, cumque expedita at. Deleniti, provident temporibus. Praesentium sit
                ad perferendis.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aliquid perferendis ab consectetur esse architecto
                nemo doloremque sapiente distinctio dolore unde. Eveniet atque alias labore ipsam libero dolorem quidem
                voluptatibus expedita!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit, quod deserunt. Commodi ea possimus
                ut, quaerat dicta dignissimos qui doloremque ullam nulla dolor reprehenderit minus ex modi suscipit illum
                aperiam?
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est vero eius iste recusandae, quisquam eum quasi.
                Tenetur porro necessitatibus voluptatem dolorum doloribus nihil adipisci, dolores voluptates labore quidem
                alias nobis.
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse eum non delectus quos porro rerum quis minus
                dolore, facilis corrupti quae unde odio, perspiciatis dolores, nesciunt maxime totam recusandae dolorem.
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto numquam fugit non sequi ipsum consequatur
                repellat animi magni assumenda. Labore, placeat vitae excepturi aperiam veritatis ea minus itaque fugiat
                natus?
                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Esse sapiente ipsam perferendis ut quis illo,
                voluptatum dolores natus placeat est tenetur nisi enim amet similique deserunt voluptatem qui temporibus
                libero?
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus quia tempore numquam ipsa, illo rerum
                sunt inventore repellendus, culpa non consectetur eligendi in, magni minima assumenda repudiandae est
                adipisci obcaecati?
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti voluptatibus distinctio enim nulla
                consectetur quasi, facilis cupiditate! Voluptate dolore consequatur quae perferendis earum. Minima
                dignissimos adipisci nisi accusantium perspiciatis obcaecati.
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum eaque beatae dignissimos amet quibusdam
                aperiam hic earum quidem neque ex debitis impedit dolorem eos voluptas sed quod, quae aliquam tempora!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt aliquam aspernatur minus veritatis accusantium
                est doloribus ad omnis dolorum numquam, cumque expedita at. Deleniti, provident temporibus. Praesentium sit
                ad perferendis.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aliquid perferendis ab consectetur esse architecto
                nemo doloremque sapiente distinctio dolore unde. Eveniet atque alias labore ipsam libero dolorem quidem
                voluptatibus expedita!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit, quod deserunt. Commodi ea possimus
                ut, quaerat dicta dignissimos qui doloremque ullam nulla dolor reprehenderit minus ex modi suscipit illum
                aperiam?
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est vero eius iste recusandae, quisquam eum quasi.
                Tenetur porro necessitatibus voluptatem dolorum doloribus nihil adipisci, dolores voluptates labore quidem
                alias nobis.
            </p>
        </div>     
    </div>
    <script>
        window.addEventListener('DOMContentLoaded', function(){
            window.addEventListener("scroll", function(event){
                if(document.querySelector('.progressbar') != null)setProgress();
            });
        });

        function setProgress() {          
            const currY = document.documentElement.scrollTop;
            const totalY = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const percentage = (currY / totalY) * 100;
            document.querySelector(".progress").style.width = percentage + "%";
        }
    </script>
</body>
</html>